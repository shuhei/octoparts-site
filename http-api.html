<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>HTTP API | Octoparts</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=h">

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <script src="js/vendor/modernizr-2.6.1.min.js"></script>

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/main.css">
  </head>
  <body>
    <!--[if lt IE 7]>
        <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
    <![endif]-->

    <div class="container">
      <div class="row">

        <div class="col-md-3">
          <div id="sidebar" style="padding-top: 20px;">
<a href="./">                <img width="220px" style="padding-left: 15px;" src="img/octo_logo1.png" />
</a>
            <ul class="nav nav-pills nav-stacked">
              <li ><a href="getting-started.html">Getting started</a></a></li>
              <li class='active'><a href="http-api.html">HTTP API</a></a></li>
              <li ><a href="caching.html">Caching</a></a></li>
              <li ><a href="timeouts.html">Timeouts</a></a></li>
              <li ><a href="logging-visualization.html">Logging & Visualization</a></a></li>
              <li ><a href="internals.html">Internals</a></a></li>
              <li ><a href="alert-mails.html">Alert mails</a></a></li>
              <li ><a href="contributing.html">Contributing</a></a></li>
            </ul>
          </div>
        </div>

        <div class="col-md-9">
          <h1>HTTP API</h1>
          <p>The REST API of Octoparts is relatively small. Those already familiar with <a href="http://swagger.wordnik.com/">Swagger</a> can simply head to the built-in Swagger documentation, which is hosted at <a href="octoparts.herokuapp.com/swagger-ui">http://octoparts.herokuapp.com/swagger-ui</a>(not up as of writing).</p>

<h2>Basic overview</h2>

<p>The API consists of:</p>

<ul>
<li>a registered dependencies discovery endpoint</li>
<li>a single endpoint for invoking registered dependencies</li>
<li>a set of cache invalidation endpoints</li>
</ul>

<h3>Discovery endpoint</h3>

<p>The discovery endpoint is used for programmatically discovering the dependencies that have been registered in a given Octoparts deployment. The response is a list of dependencies, with each item showing what URL it will hit, what parameters are registered to it, what HTTP method will be used when it is invoked, as well as cache-related settings.</p>

<h3>Code samples</h3>

<h4>Scala client examples</h4>
<pre><code class="highlight scala"><span class="k">val</span> <span class="n">someScala</span> <span class="k">=</span> <span class="s">"TODO"</span>
<span class="k">def</span> <span class="n">foo</span><span class="o">(</span><span class="n">a</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">toString</span>
</code></pre>

<h4>Java client examples</h4>
<pre><code class="highlight java"><span class="n">String</span> <span class="n">someJava</span> <span class="o">=</span> <span class="s">"java"</span><span class="o">;</span>
</code></pre>

<h3>Dependency invocation endpoint</h3>

<p>This is likely going to be your most-often used Octoparts endpoint. It is the endpoint that you will do a POST to in order to invoke your registered dependencies. In short, your POST body will be made of an AggregateRequest that contains a list of PartRequests, with each PartRequest corresponding to a single invocation of a registered dependency and containing all the necessary parameters required. The response from this endpoint will be an AggregateResponse, mainly consisting of a series of PartResponses, each one corresponding to the response that each invoked registered dependency has sent in response to a PartRequest.</p>

<p>You can choose to ignore the AggregateResponse, but it contains useful information, such as time taken, any errors generated by Octoparts, and most importantly a list of PartResponses. You can map/filter over the PartResponses to find the information that you need from your backend dependencies. Each PartResponse will have an id field, which will match the id provided in its corresponding PartRequest if one was provided (in case you want to invoke the same registered dependency multiple times in a single Octoparts call) but will default to the dependency id if the id field was not provided.</p>

<h3>Code samples</h3>

<h4>Scala client examples</h4>
<pre><code class="highlight plaintext">&lt;p&gt;TODO&lt;/p&gt;
</code></pre>

<h4>Java client examples</h4>
<pre><code class="highlight plaintext">&lt;p&gt;TODO&lt;/p&gt;
</code></pre>

<h3>Cache invalidation endpoints</h3>

<p>The cache invalidation endpoints allow you to invalidate the cached responses stored in Octoparts.  The endpoints allow you to invalidate caches by dependency name, dependency name with parameter name-value pair, cache group name, and cache group name with parameter value. </p>

<p>For information on what this means in detail, see <a href="caching.html">Caching page</a></p>

<h3>Code samples</h3>

<h4>Scala client examples</h4>
<pre><code class="highlight plaintext">&lt;p&gt;TODO&lt;/p&gt;
</code></pre>

<h4>Java client examples</h4>
<pre><code class="highlight plaintext">&lt;p&gt;TODO&lt;/p&gt;
</code></pre>

        </div>

      </div>
    </div>

    <footer class="site-footer">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <h4>Made by M3</h4>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <ul class="list-inline">
                <li>
                  <a href="http://m3dev.github.io/">M3Dev</a>
                </li>
                <li>
                  <a href="http://at.m3.com/job">We're hiring!</a>
                </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.8.0.min.js"><\/script>')</script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>

    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
    <script>
        var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
        (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
  </body>
</html>
